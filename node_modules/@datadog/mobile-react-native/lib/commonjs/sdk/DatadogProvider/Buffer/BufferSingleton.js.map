{"version":3,"sources":["BufferSingleton.ts"],"names":["BufferSingleton","BoundedBuffer","bufferInstance","drain","PassThroughBuffer"],"mappings":";;;;;;;AAMA;;AAEA;;;;AAEO,MAAMA,eAAN,CAAsB;;;;gBAAhBA,e,oBACsC,IAAIC,4BAAJ,E;;gBADtCD,e,iBAGY,MAAqB;AACtC,SAAOA,eAAe,CAACE,cAAvB;AACH,C;;gBALQF,e,sBAOiB,MAAM;AAC5BA,EAAAA,eAAe,CAACE,cAAhB,CAA+BC,KAA/B;AACAH,EAAAA,eAAe,CAACE,cAAhB,GAAiC,IAAIE,oCAAJ,EAAjC;AACH,C;;gBAVQJ,e,WAYM,MAAM;AACjBA,EAAAA,eAAe,CAACE,cAAhB,GAAiC,IAAID,4BAAJ,EAAjC;AACH,C","sourcesContent":["/*\n * Unless explicitly stated otherwise all files in this repository are licensed under the Apache License Version 2.0.\n * This product includes software developed at Datadog (https://www.datadoghq.com/).\n * Copyright 2016-Present Datadog, Inc.\n */\n\nimport { BoundedBuffer } from './BoundedBuffer';\nimport type { DatadogBuffer } from './DatadogBuffer';\nimport { PassThroughBuffer } from './PassThroughBuffer';\n\nexport class BufferSingleton {\n    private static bufferInstance: DatadogBuffer = new BoundedBuffer();\n\n    static getInstance = (): DatadogBuffer => {\n        return BufferSingleton.bufferInstance;\n    };\n\n    static onInitialization = () => {\n        BufferSingleton.bufferInstance.drain();\n        BufferSingleton.bufferInstance = new PassThroughBuffer();\n    };\n\n    static reset = () => {\n        BufferSingleton.bufferInstance = new BoundedBuffer();\n    };\n}\n"]}